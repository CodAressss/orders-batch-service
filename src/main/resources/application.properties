spring.application.name=@project.name@
spring.application.description=@project.description@
spring.application.version=@project.version@

# ========================================
# PERFIL ACTIVO (por defecto: desarrollo)
# ========================================
spring.profiles.active=dev

# ========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ========================================
# PostgreSQL - Ajusta estos valores según tu entorno local
# (Heredado por dev y prod; override en test con H2)
spring.datasource.url=jdbc:postgresql://localhost:5432/orders_batch_db
spring.datasource.username=postgres
spring.datasource.password=B@ldeon18
spring.datasource.driver-class-name=org.postgresql.Driver

# Pool de conexiones HikariCP
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=20000

# ========================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ========================================
# ddl-auto: configurado por perfil (none en dev, validate en prod)
# spring.jpa.hibernate.ddl-auto se define en application-{profile}.properties
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Estrategia de nombrado snake_case (tablas pluralizadas)
spring.jpa.hibernate.naming.physical-strategy=com.codares.logistics.shared.infrastructure.persistence.jpa.configuration.strategy.SnakeCaseWithPluralizedTablePhysicalNamingStrategy

# ========================================
# CONFIGURACIÓN DE FLYWAY (Migraciones)
# ========================================
# Flyway configurado por perfil (dev/prod)
# Ver application-dev.properties y application-prod.properties

# ========================================
# CONFIGURACIÓN DE OPENAPI/SWAGGER
# ========================================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.show-actuator=false

# ========================================
# CONFIGURACIÓN DE BATCH (Procesamiento CSV)
# ========================================
# Tamaño del lote para procesamiento de CSV (500-1000 según requisitos)
app.batch.size=500

# ========================================
# CONFIGURACIÓN DE SEGURIDAD (JWT)
# ========================================
# Clave secreta para firmar JWT tokens (en producción usar variable de entorno)
# Mínimo 32 caracteres para HS256
authorization.jwt.secret=MySecretKeyForJWTTokenSigningPurposeInDevelopmentEnvironment12345678
authorization.jwt.expiration.days = 1

# Logs legibles para desarrollo
logging.level.root=INFO
logging.level.com.codares.logistics=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ========================================
# CONFIGURACIÓN DEL SERVIDOR
# ========================================
server.port=8080
#server.servlet.context-path=/api

# Tamaño máximo de archivo para upload (CSV)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ========================================
# CONFIGURACIÓN DE OBSERVABILIDAD
# ========================================
# Observabilidad: Logs JSON + CorrelationId + Métricas Prometheus
# Los logs se escriben en JSON automáticamente via logback-spring.xml
# El CorrelationId se propaga via CorrelationIdFilter

# Spring Boot Actuator: Endpoints de health, metrics, etc
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# Micrometer: Métricas detalladas
management.metrics.enable.all=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.tags.application=${spring.application.name}
management.metrics.tags.environment=${spring.profiles.active:default}

# Prometheus: Formato de exportación de métricas
management.metrics.export.prometheus.enabled=true
